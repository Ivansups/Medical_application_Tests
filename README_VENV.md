# Инструкции по использованию виртуальной среды

## Что было сделано

1. **Создана виртуальная среда** в папке `venv/`
2. **Установлены все зависимости** из `backend/requirements.txt`
3. **Обновлен requirements.txt** с совместимыми версиями для Python 3.13
4. **Установлен PostgreSQL** через Homebrew для работы с базой данных

## Установленные библиотеки

- **FastAPI** (>=0.116.1) - веб-фреймворк для создания API
- **Uvicorn** (0.24.0) - ASGI сервер для запуска FastAPI
- **SQLAlchemy** (>=2.0.42) - ORM для работы с базой данных
- **psycopg** (>=3.2.9) - драйвер для PostgreSQL (совместим с Python 3.13)
- **Alembic** (1.12.1) - инструмент для миграций базы данных
- **Pydantic** (>=2.11.7) - валидация данных
- **python-dotenv** (1.0.0) - загрузка переменных окружения

## Как использовать виртуальную среду

### Активация виртуальной среды

```bash
# Перейдите в папку проекта
cd /path/to/Medical_application_Tests

# Активируйте виртуальную среду
source venv/bin/activate
```

После активации в начале строки терминала появится `(venv)`, что означает, что виртуальная среда активна.

### Деактивация виртуальной среды

```bash
deactivate
```

### Установка зависимостей в новой виртуальной среде

Если вы создаете новую виртуальную среду для другого проекта:

```bash
# Создание новой виртуальной среды
python3 -m venv my_project_venv

# Активация
source my_project_venv/bin/activate

# Установка зависимостей
pip install -r requirements.txt
```

### Проверка установленных пакетов

```bash
pip list
```

### Обновление зависимостей

```bash
pip install --upgrade package_name
```

## Запуск проекта

После активации виртуальной среды:

```bash
# Перейдите в папку backend
cd backend

# Запустите сервер разработки
uvicorn app.main:app --reload
```

## Полезные команды

### Создание requirements.txt для нового проекта

```bash
# Сохранить все установленные пакеты
pip freeze > requirements.txt
```

### Установка конкретной версии пакета

```bash
pip install package_name==version
```

### Удаление пакета

```bash
pip uninstall package_name
```

## Примечания

- Виртуальная среда изолирует зависимости проекта от системного Python
- Всегда активируйте виртуальную среду перед работой с проектом
- Файл `requirements.txt` содержит точные версии пакетов для воспроизводимости
- Для Python 3.13 используется `psycopg3` вместо `psycopg2-binary`
- Все библиотеки совместимы с Python 3.13

## Решение проблем

### Если возникают ошибки совместимости

```bash
# Обновите библиотеки до последних версий
pip install --upgrade fastapi sqlalchemy pydantic psycopg[binary]
```

### Если нужно переустановить виртуальную среду

```bash
# Удалите старую виртуальную среду
rm -rf venv

# Создайте новую
python3 -m venv venv

# Активируйте
source venv/bin/activate

# Установите зависимости
pip install -r backend/requirements.txt
```
